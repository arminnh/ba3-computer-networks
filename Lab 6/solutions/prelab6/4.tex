The spanning tree protocol (STP) is used to control redundancy of paths in the network topology. If a switch using STP detects that packets are being sent to the same network segment multiple times, one of the paths can be broken by turning off the port. In fact, it will prevent any loops from existing within the network by determining a spanning tree (a graph without any cycles).